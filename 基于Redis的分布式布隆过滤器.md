# 基于Redis的分布式布隆过滤器

## 引出布隆过滤器

- 现有50亿个电话号码，现有10万个电话号码，要**快速准确**判断这些号码是否存在？
  1. 通过数据库查询：实现**快速**有点难
  2. 数据预放在集合中：50亿*8bit≈40GB（**内存**浪费或不够）
  3. hyperloglog:**准确**点难
- 垃圾邮件过滤
- 文字处理软件(例如word)错误单词检测
- 网络爬虫重复url检测
- HBase行过滤

## 布隆过滤器原理

- 实现原理：一个很长的二进制向量和若干个哈希函数
- 参数：m个二进制向量，n个预备数据，k个hash函数
- 构建布隆过滤器：n个预备数据走一遍上面流程
- 判断元素存在：走一遍上面过程：如果都是1，则表明存在，反之不存在

## 布隆过滤器误差率

- 肯定存在误差：恰好都命中了。
- 直观因素：m/n的比率，hash函数的个数
- 实际误差公式：
  1. 1个元素，1个hash函数，任意一个比特为1的概率为 \$a + b$
  2. 



## 本地布隆过滤器

## Redis单机布隆过滤器

## Redis分布式布隆过滤器



