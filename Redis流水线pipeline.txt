流水线pipeline

作用(为了解决减少n次网络通信时间)
命令		 n个命令操作 	1次pipeline(n个命令)
时间 	 n次网络+n次命令 1次网络+n次命令
数据量 	 1条命令	 		n条命令

Jedis实现
不使用pipeline:
for(int i=0; i<10000; i++){
	jedis.hset("hashkey:" + i, "field" + i, "value" + i);
}
使用pipeline
Pipeline pipeline = jedis.pipelined();
for(int i=0; i<10000; i++){
	pipeline.hset("hashkey:" + i, "field" + i, "value" + i);
}
pipeline.syncAndReturnAll();


pipeline操作不是原子操作


使用建议
1.注意每次pipeline携带数据量
2.pipeline每次只能作用在一个redis节点上
3.M操作与pipeline的区别